# Item56

# 공개된 API 요소에는 항상 문서화 주석을 작성하라

api가 변경될때마다 사람이 문서를 작성해주어야 하는데, 자바에서는 javadoc이 이를 도와준다.

소스파일 코드에서 문서화 주석을 사용하여 해당 주석을 api문서로 변환시켜준다.

### 문서화 주석 작성하는 법

보통 이 규칙은 공식 언어 명세에 속하지는 않지만, 자바 개발자라면 그냥 다들 쓰는 방법을 이 방법을 따르자.

- 공개된 모든 클래스, 인터페이스, 메서드, 필드 선언에 문서화 주석을 달아야 한다.
    - 직렬화가 가능한 클래스는 직렬화에 대해서도 적어야 하며, 문서화 주석이 없다면 javadoc도 그저 api 공개 요서에 대해 선언만 나열해준다.
- 메서드용 문서화 주석에는 해당 메서드와 클라이언트 사이의 규약을 명료하게 기술해야한다.
    - 상속용으로 설계된 클래스가 아니라면 메서드의 동작원리가 아닌, 무엇을 하는지를 기술해야한다. (how 가 아닌 what) 을 기술하자.
    - 클라이언트가 해당 메서드를 호출하기 위한 전제조건을 모두 나열한다.
        - @throw 태그를 사용하여 비검사 예외를 암시적으로 나타낸다.
    - 해당 메서드를 호출한 후 만족해야 하는 사후조건도 나열한다.
    - 부작용에 대해서도 문서화한다.
    - @param, @return, @throws 를 사용하여 매개변수, 반환값, 발생할 수 있는 예외를 모두 명시한다.
        - 영어로 사용하는 경우 보통 마침표를 쓰지 않는다.
        - {@code}
            - 태그를 사용하여 태그로 감싼 내용을 코드용 폰트로 변환 가능하다.
            - 태그 내의 html 요소나 다른 javadoc 태그를 무시한다.
- 상속용으로 설계 시 자기사용 패턴에 대해서도 문서를 남겨서 다른 프로그래머들이 올바르게 재정의 할 수 있도록 한다. (@implSpec 태그를 사용한다)
    - java11 버전까지도 javaDocs 명령어에서 -tag “implSpec:a:Implementation Requirements:”를 켜주어야 해당 태그가 활성화된다.
- <, >, & 등 HTML 메타 문자를 포함시키려면 {@literal} 로 감싼다. html마크업이나 javadoc 태그로 변환되지는 않지만 코드폰트로 렌더링 되지는 않는다.
- 각 문서화 주석의 첫번째 문장은 해당 요소의 요약 설명을 써주어야 한다.
    - 요약 설명의 경우 대상의 기능을 고유하게 기술한다 (요약 설명이 같은 멤버가 둘 이상이면 안된다.)
    - 마침표에 주의한다. 요약설명은 마침표를 기준으로 요약설명 완료를 인식하기 때문에 마침표가 아닌 . 을 쓰고 싶으면 @literal 로 감싸자.
    - 보통 요약설명은 완전한 문장이 아니다. 메서드와 생성자의 요약설명은 주어가 없다. (영어 특)
- 제네릭, 제네릭 메서드를 문서화 할 때는 모든 타입 매개변수에 주석을 달자.
    - ex). @param <K> : ….
- 열거타입의 경우 상수들에도 주석을 달자.
- annotation의 경우 멤버들에도 주석을 달자. annotation 자체에도 달아준다.
- package를 설명하는 문서화 주석은 [package-info.java](http://package-info.java) 파일에 작성하면 된다.
    - 이 파일은 패키지 선언을 반드시 포함해야하며, 패키지 선언 관련 annotation을 추가로 포함할 수 있다.
- Thread 안전 수준을 항상 포함하자.

### 기타 JavaDocs 기능

- 메서드 주석을 상속시킬 수 있다.
    - 문서화 주석이 없는 api 요소는 가장 가까운 문서화 주석을 찾는다.
    - 상위 클래스가 아닌 그 클래스가 구현한 interface를 우선적으로 찾는다.
- {@inheritDocs} 를 사용해서 상위 타입의 문서화 주석 일부를 상속할 수 있다.